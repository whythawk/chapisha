

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>CreateWork &mdash; Chapisha 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="CreateWork" href="create.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Chapisha
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Dependencies, installation &amp; importing</a></li>
</ul>
<p class="caption"><span class="caption-text">Step-by-step guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="create.html">CreateWork</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">CreateWork</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Chapisha</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>CreateWork</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/create_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creatework">
<h1>CreateWork<a class="headerlink" href="#creatework" title="Permalink to this headline">¶</a></h1>
<p>The <cite>CreateWork</cite> class defines the steps for creating an epub.</p>
<dl class="py class">
<dt id="chapisha.create.CreateWork">
<em class="property">class </em><code class="sig-prename descclassname">chapisha.create.</code><code class="sig-name descname">CreateWork</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>chapisha.models.metadata.WorkMetadata<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stateless</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chapisha.create.CreateWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish a standards compliant EPUB3 creative work from a source Microsoft Word <cite>docx</cite> document, and
define its metadata, cover and publishing rights.</p>
<p>If the EPUB file already exists, then publishing this work will overwrite it.</p>
<p>On instantiation, checks <cite>directory</cite> to see if <cite>DEFAULT_METADATA_SETTINGS</cite> is present, loading the required data,
or replacing with specified defaults.</p>
<dl class="py method">
<dt id="chapisha.create.CreateWork.get_metadata_schema">
<code class="sig-name descname">get_metadata_schema</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="headerlink" href="#chapisha.create.CreateWork.get_metadata_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the standard Dublin Core schema permitted for the EPUB3 standard.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="chapisha.create.CreateWork.set_metadata">
<code class="sig-name descname">set_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metadata</span><span class="p">:</span> <span class="n">chapisha.models.metadata.WorkMetadata</span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#chapisha.create.CreateWork.set_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate metadata values for the permitted Dublin Core schema terms, along with additional metadata. The full
schema, with descriptions, and requirements, is listed by <cite>get_metadata_schema</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The terms <cite>identifier</cite>, <cite>title</cite>, <cite>creator</cite>, <cite>rights</cite> and <cite>language</cite> are required. A random UUID will be assigned if none is provided.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> (<em>WorkMetadata</em>) – A model defined by a dictionary of terms.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="chapisha.create.CreateWork.set_document">
<code class="sig-name descname">set_document</code><span class="sig-paren">(</span><em class="sig-param">source: [&lt;class 'pathlib.Path'&gt;, &lt;class 'bytes'&gt;, &lt;class 'str'&gt;]</em><span class="sig-paren">)</span><a class="headerlink" href="#chapisha.create.CreateWork.set_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Import source <cite>docx</cite> document and, if stateless, save to the working directory. If you’re finding errors in
the build step, it could be you need to convert your base64 string to “utf-8” (<cite>source.decode(“utf-8”)</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>source</strong> (<em>Path</em><em>, </em><em>bytes</em><em>, or </em><em>str</em>) – Filename to open, bytes from an opened file, or a base64 string</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>PermissionError</strong> – if metadata not yet validated.:</p></li>
<li><p><strong>FileNotFoundError</strong> – if the source is not valid.:</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="chapisha.create.CreateWork.set_cover">
<code class="sig-name descname">set_cover</code><span class="sig-paren">(</span><em class="sig-param">source: [&lt;class 'pathlib.Path'&gt;, &lt;class 'bytes'&gt;], contributor: Optional[chapisha.models.metadata.Contributor] = None</em><span class="sig-paren">)</span><a class="headerlink" href="#chapisha.create.CreateWork.set_cover" title="Permalink to this definition">¶</a></dt>
<dd><p>Import cover image and, if stateless, save to the working directory, along with any rights and contributor
information. If you’re finding errors in the build step, it could be you need to convert your base64 string to
“utf-8” (<cite>source.decode(“utf-8”)</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Path</em><em> or </em><em>bytes</em>) – Filename to open, including path, or bytes for file</p></li>
<li><p><strong>contributor</strong> (<em>Contributor</em>) – Optional, string indicating contributor name for cover image.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>PermissionError</strong> – if metadata not yet validated.:</p></li>
<li><p><strong>FileNotFoundError</strong> – if the source is not valid.:</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="chapisha.create.CreateWork.add_contributor">
<code class="sig-name descname">add_contributor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">contributor</span><span class="p">:</span> <span class="n">chapisha.models.metadata.Contributor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chapisha.create.CreateWork.add_contributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a contributor to the list of those supporting the creation of the work. <cite>contributor</cite> is defined as a dict:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">contributor</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;artist&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Great Artist&quot;</span><span class="p">,</span>
    <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="s2">&quot;2021&quot;</span><span class="p">,</span>
    <span class="s2">&quot;terms&quot;</span><span class="p">:</span> <span class="s2">&quot;Public Domain.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>contributor</strong> (<em>Contributor</em>) – Include the types of contributor who supported the creation of the work. <cite>role</cite>: <cite>artist</cite>, <cite>editor</cite>, <cite>translator</cite>.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>PermissionError</strong> – if metadata not yet validated.:</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="chapisha.create.CreateWork.set_dedication">
<code class="sig-name descname">set_dedication</code><span class="sig-paren">(</span><em class="sig-param">dedication: [&lt;class 'str'&gt;, list[str]]</em><span class="sig-paren">)</span><a class="headerlink" href="#chapisha.create.CreateWork.set_dedication" title="Permalink to this definition">¶</a></dt>
<dd><p>Set dedication page for creative work. Provide as a string, unless it is on multiple paragraphs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dedication</strong> (<em>str</em><em> or </em><em>list of str</em>) – Provide as a string, or list of strings for multiple paragraphs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="chapisha.create.CreateWork.set_rights">
<code class="sig-name descname">set_rights</code><span class="sig-paren">(</span><em class="sig-param">rights: [&lt;class 'str'&gt;, list[str]]</em><span class="sig-paren">)</span><a class="headerlink" href="#chapisha.create.CreateWork.set_rights" title="Permalink to this definition">¶</a></dt>
<dd><p>Set publication <cite>long_rights</cite> for creative work. Provide as a string, or list of strings if it is on multiple
paragraphs.</p>
<p>There are multiple appropriate rights, and two examples are below. Modify as you require.</p>
<ul>
<li><p>Commercial copyright with all rights reserved:</p>
<blockquote>
<div><p>The right of the creator to be identified as the author of the Work has been asserted by them in
accordance with the Copyright, Designs and Patents Act 1988. This creator supports copyright. Copyright
gives creators space to explore and provides for their long-term ability to sustain themselves from
their work. Thank you for buying this work and for complying with copyright laws by not reproducing,
scanning, or distributing any part of it without permission. Your support will contribute to future
works by the creator.</p>
</div></blockquote>
</li>
<li><p>Commercial copyright but licenced for distribution under Attribution-NonCommercial-ShareAlike 4.0 International (<a class="reference external" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>):</p>
<blockquote>
<div><p>You are free to copy and redistribute the Work in any medium or format, and remix, transform, and build
upon the Work. The creator cannot revoke these freedoms as long as you follow the license terms.</p>
<p>In return: You may not use the material for commercial purposes. You must give appropriate credit, provide
a link to this license, and indicate if changes were made. You may do so in any reasonable manner, but not
in any way that suggests the creator endorses you or your use. If you remix, transform, or build upon the
material, you must distribute your contributions under the same license as the original. You may not apply
legal terms or technological measures that legally restrict others from doing anything the license
permits.</p>
</div></blockquote>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rights</strong> (<em>str</em><em> or </em><em>list of str</em>) – Provide as a string, or list of strings for multiple paragraphs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="chapisha.create.CreateWork.build">
<code class="sig-name descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chapisha.create.CreateWork.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically build the creative work as a standards compliant EPUB3. Save to the root directory.</p>
</dd></dl>

<dl class="py method">
<dt id="chapisha.create.CreateWork.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#chapisha.create.CreateWork.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the creative work as a standards compliant EPUB3.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="create.html" class="btn btn-neutral float-left" title="CreateWork" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Gavin Chait.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>